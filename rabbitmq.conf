# rabbitmq.conf
# RabbitMQ configuration for VaPtER

## Network and Heartbeat Configuration
# Set heartbeat interval to 60 seconds (more tolerant for long operations)
heartbeat = 60

# TCP listener settings
listeners.tcp.default = 5672

# Management plugin
management.tcp.port = 15672

## Connection limits
# Maximum number of connections
listeners.tcp.default.max_connections = 1024

# Channel max
channel_max = 200

# Frame max size (128KB)
frame_max = 131072

## Memory and disk alarms
vm_memory_high_watermark.relative = 0.4
disk_free_limit.absolute = 2GB

## Message TTL and Queue limits
# Default message TTL: 1 hour (in milliseconds)
queue_master_locator = min-masters

## Consumer timeout
# Disable consumer timeout for long-running scans
consumer_timeout = false

## TCP Keepalive settings
tcp_listen_options.keepalive = true
tcp_listen_options.nodelay = true
tcp_listen_options.sndbuf = 65536
tcp_listen_options.recbuf = 65536

## Logging
log.console = true
log.console.level = info
log.file = /var/log/rabbitmq/rabbit.log
log.file.level = info

## Default user settings are handled by environment variables
# default_user and default_pass are set via RABBITMQ_DEFAULT_USER and RABBITMQ_DEFAULT_PASS